<div class="bg-light min-h-[calc(100vh-80px)] flex flex-col pt-16">
  <div class="w-full max-w-sm mx-auto">
    <div class=" mx-auto bg-card shadow-xl border- border-gray-100 p-5">

      @let firstname = this.registerForm.get('firstname');
      @let lastname = this.registerForm.get('lastname');
      @let email = this.registerForm.get('email');
      @let password = this.registerForm.get('password');
      @let password_confirm = this.registerForm.get('password_confirm');
      @let dob = this.registerForm.get('dob');
      @let address_street = this.registerForm.get('address_street');
      @let address_city = this.registerForm.get('address_city');
      @let address_state = this.registerForm.get('address_state');
      @let address_country = this.registerForm.get('address_country');
      @let address_zip_code = this.registerForm.get('address_zip_code');

      <span class="font-bold text-3xl">Sign up!</span>
      <form [formGroup]="registerForm" action="#" class=" space-y-5" (ngSubmit)="onSubmit()">
        <div>
          <label for="firstname" class="block">firstname</label>
          <input type="text" formControlName="firstname" class="w-full border rounded-lg min-h-8">
          @if (firstname?.invalid && (firstname?.dirty || firstname?.touched)) {
          <div class="error">
            @for (error of firstname?.errors | keyvalue; track error.key) {
            <small class="text-error block">{{getErrorMessage(error.key, error.value)}}</small>
            }
          </div>
          }
        </div>

        <div>
          <label for="lastname" class="block">lastname</label>
          <input type="text" formControlName="lastname" class="w-full border rounded-lg min-h-8">
          @if (lastname?.invalid && (lastname?.dirty || lastname?.touched)) {
          <div class="error">
            @for (error of lastname?.errors | keyvalue; track error.key) {
            <small class="text-error block">{{getErrorMessage(error.key, error.value)}}</small>
            }
          </div>
          }
        </div>

        <div>
          <label for="email" class="block">email</label>
          <input type="email" formControlName="email" class="w-full border rounded-lg min-h-8">
          @if (email?.invalid && (email?.dirty || email?.touched)) {
          <div class="error">
            @for (error of email?.errors | keyvalue; track error.key) {
            <small class="text-error block">{{getErrorMessage(error.key, error.value)}}</small>
            }
          </div>
          }
        </div>
        <div>
          <label for="password" class="block">password</label>
          <input type="password" formControlName="password" class="w-full border rounded-lg min-h-8">
          @if (password?.invalid && (password?.dirty || password?.touched)) {
          @for (error of password?.errors | keyvalue; track error.key) {
          <small class="text-error block">{{getErrorMessage(error.key, error.value)}}</small>
          }
          }
        </div>
        <div>
          <label for="password_confirm" class="block">password_confirm</label>
          <input type="password" formControlName="password_confirm" class="w-full border rounded-lg min-h-8">
          @if (password_confirm?.invalid && (password_confirm?.dirty || password_confirm?.touched)) {
          <small class="text-error">passwords should match</small>
          }
        </div>
        <div>
          <label for="dob" class="block">dob</label>
          <input type="date" formControlName="dob" class="w-full border rounded-lg min-h-8">
          @if (dob?.invalid && (dob?.dirty || dob?.touched)) {
          @for (error of dob?.errors | keyvalue; track error.key) {
          <small class="text-error block">{{getErrorMessage(error.key, error.value)}}</small>
          }
          }
        </div>
        <div class="flex justify-between text-center space-x-2">

          <div>
            <label for="address_street" class="block">street</label>
            <input type="text" formControlName="address_street" class="w-full border rounded-lg min-h-8">
            @if (address_street?.invalid && (address_street?.dirty || address_street?.touched)) {
            <small class="text-error">required</small>
            }
          </div>
          <div>
            <label for="address_city" class="block">city</label>
            <input type="text" formControlName="address_city" class="w-full border rounded-lg min-h-8">
            @if (address_city?.invalid && (address_city?.dirty || address_city?.touched)) {
            <small class="text-error">required</small>
            }
          </div>
          <div>
            <label for="address_state" class="block">state</label>
            <input type="text" formControlName="address_state" class="w-full border rounded-lg min-h-8">
            @if (address_state?.invalid && (address_state?.dirty || address_state?.touched)) {
            <small class="text-error">required</small>
            }
          </div>
          <div>
            <label for="address_country" class="block">country</label>
            <input type="text" formControlName="address_country" class="w-full border rounded-lg min-h-8">
            @if (address_country?.invalid && (address_country?.dirty || address_country?.touched)) {
            <small class="text-error">required</small>
            }
          </div>
          <div>
            <label for="address_zip_code" class="block">zip code</label>
            <input type="text" formControlName="address_zip_code" class="w-full border rounded-lg min-h-8">
            @if (address_zip_code?.invalid && (address_zip_code?.dirty || address_zip_code?.touched)) {
            <small class="text-error">required</small>
            }
          </div>
        </div>
        <button type="submit"
          [disabled]="pending | async"
          class=" w-full px-4 py-2 rounded-xl text-sm font-semibold text-white no-underline bg-primary hover:bg-primaryHover transition-all">Register</button>
      </form>
    </div>
  </div>
</div>
